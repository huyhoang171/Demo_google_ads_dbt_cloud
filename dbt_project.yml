
# Name your project! Project names should contain only lowercase characters
# and underscores. A good package name should reflect your organization's
# name or the intended use of these models
name: 'google_ads_analytics'
version: '1.0.0'
config-version: 2

# This setting configures which "profile" dbt uses for this project.
profile: 'google_ads'

# These configurations specify where dbt should look for different types of files.
# The `model-paths` config, for example, states that models in this project can be
# found in the "models/" directory. You probably won't need to change these!
model-paths: ["models"]
analysis-paths: ["analyses"]
test-paths: ["tests"]
seed-paths: ["seeds"]
macro-paths: ["macros"]
snapshot-paths: ["snapshots"]

target-path: "target"  # directory which will store compiled SQL files
clean-targets:         # directories to be removed by `dbt clean`
  - "target"
  - "dbt_packages"


# Variables for incremental models
# Adjust these values to control incremental behavior
vars:
  # Lookback window for incremental models
  # Controls how much historical data to reprocess on each run
  # Larger values = more data processed, better late-arrival handling, higher cost
  # Smaller values = faster runs, lower cost, may miss late-arriving data
  
  # Option 1: Use days (default - recommended for most cases)
  incremental_lookback_days: 3
  
  # Option 2: Use hours (for real-time/hourly data)
  # incremental_lookback_hours: 12     # Process last 12 hours
  
  # Option 3: Use minutes (for near-real-time data)
  # incremental_lookback_minutes: 30   # Process last 30 minutes
  
  # Note: Only ONE option should be uncommented at a time
  # Priority order: minutes > hours > days (if multiple are set)
  
  # Alternative: Use different lookback by model type
  # campaign_lookback_days: 3
  # keyword_lookback_hours: 24  # Keywords may have more late conversions


# Configuring models
# Full documentation: https://docs.getdbt.com/docs/configuring-models

# Models are organized under google_ads folder for better organization
# - staging: Clean, standardized source data (views)
# - mart: Business logic and reporting (incremental/tables)

models:
  google_ads_analytics:
    google_ads:
      # Staging models - lightweight views
      staging:
        +materialized: view
        +schema: staging
      
      # Mart models - incremental for facts, tables for reports
      mart:
        +materialized: table
        +schema: mart
